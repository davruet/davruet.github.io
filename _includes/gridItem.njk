{% macro gridItem(im, works, urlbase, linkTarget, autoFillCaption)%}
{% import "workText.njk" as wc %}   
{% if "webimg" in im %}
{% set alt = works | workInfo(im.workid, "Artists") + ", " + works | workCaption(im.workid, false) | striptags %}
<div vocab="https://schema.org/" typeof="ImageObject">
    <span property="name" content="{{alt | striptags}}"></span>
    {% if (linkTarget != null)%} <a href="{{linkTarget}}"> {% endif %}
    {% image "." + urlbase + im["webimg"], alt, "100vw"%}
    {% if (linkTarget != null)%}</a>{% endif %}
    <span rel="schema:creator">
        <span typeof="schema:Person"></span>
        <span property="schema:name" content="David Rueter"></span>
        <span property="schema:disambiguatingDescription" content="Artist"></span>
    </span>
    <span property="copyrightNotice" content="David Rueter"></span>
    <span property="license" content="https://davidrueter.com/about/"></span>
    <span property="creditText" content="David Rueter"></span>
    <span property="acquireLicensePage" content="https://davidrueter.com/about/"></span>
</div>
{% elif "webvid" in im %}

<video-js class="vjs-big-play-centered" data-setup='{"fluid": true, "controls": true}'>
    <source src="{{urlbase}}{{im["webvid"] | videoURL}}" type="application/x-mpegURL">
</video-js>
{% endif %}
<div class="grid-item-caption">
{% if ("caption" in im) or not autoFillCaption %}
<div class="workCaption">
{{ im.caption | safe }}
</div>
{% else %}
{{ wc.workCaption(works,im.workid,true) | safe}}
{% endif %} 
</div>
{% endmacro %}